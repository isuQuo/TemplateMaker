<!--
{{ define "templatelist" }}
{{ template "links" .}}
<ul class="list-disc list-inside">
    <-- Show file directory for templates created for customers. Only display templates created by user.
    E.g.    Customer 1  > Template 1
                        > Template 2
            Customer 2  > Template 1
    --
    <li class="mb-2">Template 1</li>
    <li class="mb-2">Template 2</li>
    <li class="mb-2">Template 3</li>
</ul>
{{ end }} -->

{{ define "title" }}
Template Maker
{{ end }}

{{ define "links" }}
<div class="flex mb-4">
    <a href="/submit"
        class="ml-4 py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-md shadow-md inline-block">Create
        New Template</a>
</div>
{{ end }}

{{ define "content" }}
{{ template "links" .}}
<div class="flex-col space-y-2">
    {{ range .Templates }}
    <div class="flex space-x-0.5 text-sm text-neutral-400">
        <div>
            <div class="flex justify-between items-center cursor-pointer" id="expandable-header-{{.ID}}">
                <span class="text-6xl font-bold text-black-1000">{{ .Name }}</span>
                <span class="text-gray-400 text-sm">(click to expand)</span>
            </div>
            <div class="hidden" id="expandable-content-{{.ID}}">
                <div class="leading-1 text-[35px] cursor-pointer">{{ .Subject }}
                    <a href="/edit/{{.ID}}"
                        class="ml-2 py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md shadow-md inline-block text-sm">Edit</a>
                    <a href="/send"
                        class="ml-2 py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md shadow-md inline-block text-sm">Send</a>
                </div>
            </div>
        </div>
    </div>
</div>
{{ end }}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('div[id^="expandable-header-"]').click(function () {
            var expandableID = $(this).attr('id').replace('expandable-header', 'expandable-content');
            $('#' + expandableID).toggleClass('hidden');
        });
    });
</script>
{{ end }}
